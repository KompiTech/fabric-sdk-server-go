(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports=a(362)},190:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),l=(a(190),a(43)),o=a(57),i=a(26),u=a(27),h=a(30),d=a(28),m=a(31),p=a(183),g=a(82),E=a(368),f=a(370),v=a(51),y=a(72),b=a(365),O=a(367),w=a(364),S=a(46),C=a.n(S),j=g.a.Option,z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,data:void 0,channels:[],users:[],organization:null,loadingConf:!0,channel:void 0,user:void 0,chaincode:void 0,loadingSign:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.setState({loading:!0}),localStorage.setItem("chaincode",window.env.CHAINCODE_NAME),a.props.send?C.a.post(window.env.BASE_URL+window.env.PORT+"/api/v1/chaincode/invoke").query({chaincode:window.env.CHAINCODE_NAME}).query({user:t.user}).query({channel:t.channel}).query({args:JSON.stringify({hash:{contractDuration:t.contractDuration,insuredAmount:t.insuredAmount},signed:!1})}).query({fcn:"put"}).then(function(){a.setState({loading:!1}),a.props.form.resetFields(),E.a.success({message:"Success"})}).catch(function(e){a.setState({loading:!1}),E.a.error({message:"Error"})}):C.a.get(window.env.BASE_URL+window.env.PORT+"/api/v1/chaincode/query").query({chaincode:window.env.CHAINCODE_NAME}).query({user:t.user}).query({channel:t.channel}).query({fcn:"list"}).then(function(e){var n=e.body,r=[];for(var c in n)n.hasOwnProperty(c)&&r.push(Object(p.a)({id:c},JSON.parse(n[c])));a.setState({loading:!1,data:r,channel:t.channel,user:t.user,chaincode:window.env.CHAINCODE_NAME})}).catch(function(e){console.error(e),a.setState({loading:!1}),E.a.error({message:"Error"})}))})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getColumns",value:function(){var e=this;return[{title:"Contract duration",dataIndex:"hash.contractDuration"},{title:"Insured amount",dataIndex:"hash.insuredAmount"},{title:"Sign",dataIndex:"signed",render:function(t,a){return r.a.createElement("span",null,t?r.a.createElement(f.a,{color:"green"},"Signed"):r.a.createElement(v.a,{loading:e.state.loadingSign,onClick:function(){return e.sign(a)}},"Sign"))}}]}},{key:"sign",value:function(e){var t=this;this.setState({loadingSign:!0}),C.a.post(window.env.BASE_URL+window.env.PORT+"/api/v1/chaincode/invoke").query({chaincode:this.state.chaincode}).query({user:this.state.user}).query({channel:this.state.channel}).query({fcn:"update"}).query({args:e.id}).query({args:JSON.stringify({hash:{contractDuration:e.hash.contractDuration,insuredAmount:e.hash.insuredAmount},signed:!0})}).then(function(){t.setState({loadingSign:!1}),e.signed=!0,t.props.form.resetFields(),E.a.success({message:"Success"})}).catch(function(e){t.setState({loading:!1}),console.error(e),E.a.error({message:"Error"})})}},{key:"componentDidMount",value:function(){var e=this;C.a.get(window.env.BASE_URL+window.env.PORT+"/api/v1/config").then(function(t){t.body&&e.setState({loadingConf:!1,channels:t.body.channels,users:t.body.users,organization:t.body.organization})}).catch(function(t){console.error(t),e.setState({loadingConf:!1}),E.a.error({message:"Error"})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:24},md:{span:4},lg:{span:4},xl:{span:4},xxl:{span:4}},wrapperCol:{xs:{span:24},sm:{span:24},md:{span:18},lg:{span:18},xl:{span:18},xxl:{span:18}}};return r.a.createElement("div",null,r.a.createElement("h2",null,"Organization: ",window.env.ORG_NAME),r.a.createElement("h3",null,"MSP ID: ",this.state.organization),r.a.createElement(y.a,null,r.a.createElement(b.a,{layout:"horizontal",labelAlign:"left"},r.a.createElement(b.a.Item,Object.assign({label:"User"},t),e("user",{rules:[{required:!0,message:"Please input user!"}],initialValue:this.state.users[0]})(r.a.createElement(g.a,{loading:this.state.loadingConf},this.state.users&&this.state.users.map(function(e){return r.a.createElement(j,{value:e,key:e},e)})))),r.a.createElement(b.a.Item,Object.assign({label:"Channel name"},t),e("channel",{rules:[{required:!0,message:"Please input channel!"}],initialValue:this.state.channels[0]})(r.a.createElement(g.a,{loading:this.state.loadingConf},this.state.channels&&this.state.channels.map(function(e){return r.a.createElement(j,{value:e,key:e},e)})))),this.props.send&&r.a.createElement(b.a.Item,Object.assign({label:"Contract duration"},t),e("contractDuration",{rules:[{required:!0,message:"Please input your data!"}]})(r.a.createElement(O.a,null))),this.props.send&&r.a.createElement(b.a.Item,Object.assign({label:"Insured amount"},t),e("insuredAmount",{rules:[{required:!0,message:"Please input your data!"}]})(r.a.createElement(O.a,null))),r.a.createElement(b.a.Item,{wrapperCol:{xs:{span:24},sm:{span:24},md:{span:4,offset:4},lg:{span:4,offset:4},xl:{span:4,offset:4},xxl:{span:4,offset:4}}},r.a.createElement(v.a,{loading:this.state.loading,type:"primary",onClick:this.handleSubmit},this.props.send?"Create":"Get"))),this.state.data&&r.a.createElement(y.a,null,r.a.createElement(w.a,{dataSource:this.state.data,columns:this.getColumns(),rowKey:"id"}))))}}]),t}(r.a.Component),x=b.a.create()(z),M=a(363),I=a(134),_=a(38),A=a(366),k=function(e){return r.a.createElement("svg",Object.assign({id:"prefix__Vrstva_1",x:0,y:0,viewBox:"0 0 1025.9 226",xmlSpace:"preserve"},e),r.a.createElement("style",null,".prefix__st1{fill:#10121f}"),r.a.createElement("path",{d:"M206.4 0H84.8C37.9 0 0 37.9 0 84.8v121.6C0 217.2 8.8 226 19.7 226h121.6c46.8 0 84.8-37.9 84.8-84.8V19.7C226 8.8 217.2 0 206.4 0zm-21.8 89.2h-47.7v47.7h47.7c0 26.4-21.4 47.7-47.7 47.7v-47.7H89.2v47.7H55.4c-7.7 0-14-6.3-14-14V89.2c0-26.3 21.4-47.7 47.7-47.7v47.7h47.7V41.5H171c7.5 0 13.6 6.1 13.6 13.6v34.1z",fill:"#6146ff",id:"prefix__Logo_3_"}),r.a.createElement("path",{className:"prefix__st1",d:"M319.8 65.1l-13.4-17.8h-5v17.8h-7V24.6h7v16.6h5l12.2-16.6h8.6l-14.6 19.6 15.9 21h-8.7z"}),r.a.createElement("path",{className:"prefix__st1",d:"M352.9 63.8c-2.7 1.4-5.7 2.1-9 2.1s-6.3-.7-9-2.1c-2.7-1.4-4.8-3.4-6.3-5.9-1.5-2.5-2.3-5.3-2.3-8.4 0-3.1.8-5.9 2.3-8.4 1.5-2.5 3.6-4.5 6.3-5.9 2.7-1.4 5.7-2.1 9-2.1s6.3.7 9 2.1c2.7 1.4 4.8 3.4 6.3 5.9 1.5 2.5 2.3 5.3 2.3 8.4s-.8 5.9-2.3 8.4c-1.5 2.5-3.6 4.5-6.3 5.9zm-16.7-6.9c2 1.9 4.6 2.9 7.7 2.9 3.1 0 5.7-1 7.7-2.9s3-4.4 3-7.4-1-5.5-3-7.4c-2-1.9-4.6-2.9-7.7-2.9-3.1 0-5.7 1-7.7 2.9s-3 4.4-3 7.4 1 5.5 3 7.4zM403.7 33.1c3.5 0 6.3 1.1 8.4 3.4 2.2 2.3 3.2 5.2 3.2 8.7v19.9h-6.8V46.8c0-2.5-.6-4.5-1.7-5.9-1.1-1.4-2.7-2.1-4.7-2.1-2.2 0-4 .9-5.5 2.6-1.5 1.7-2.2 3.9-2.2 6.5V65h-6.6V46.8c0-2.5-.6-4.5-1.7-5.9-1.1-1.4-2.7-2.1-4.8-2.1-2.2 0-4.1.9-5.5 2.6-1.5 1.7-2.2 3.9-2.2 6.5V65h-6.8V33.9h4.8l1.2 4c1.3-1.5 2.8-2.7 4.6-3.5 1.8-.8 3.7-1.3 5.7-1.3 2.2 0 4.2.5 5.9 1.5 1.7 1 3.1 2.3 4 4 1.2-1.7 2.8-3 4.6-4 1.9-1 3.9-1.5 6.1-1.5zM440.3 33.1c3.2 0 6.2.7 8.8 2.1 2.6 1.4 4.6 3.4 6.1 5.9 1.5 2.5 2.2 5.3 2.2 8.4 0 4.7-1.6 8.6-4.8 11.7-3.2 3.1-7.3 4.7-12.2 4.7-4.2 0-7.9-1.3-11-3.8v14.2h-6.8V33.9h4.6l1.3 3.8c1.5-1.5 3.3-2.6 5.3-3.4 2-.8 4.2-1.2 6.5-1.2zm-8.2 23.7c2.1 2 4.6 2.9 7.7 2.9s5.7-1 7.7-2.9c2-2 3-4.4 3-7.3 0-2.9-1-5.4-3-7.3-2-2-4.6-2.9-7.7-2.9s-5.7 1-7.7 2.9c-2.1 2-3.1 4.4-3.1 7.3s1 5.4 3.1 7.3zM462.6 29v-6.6h7V29h-7zm.1 36.1V33.9h6.8v31.3h-6.8zM505.2 24.6v6.2h-12.5v34.4h-7V30.8h-12.5v-6.2h32zM536.3 49.6c0 .6 0 1.3-.1 2.1h-26.7c.4 2.5 1.5 4.5 3.3 6 1.8 1.5 4.1 2.2 6.8 2.2 1.9 0 3.7-.4 5.2-1.2 1.5-.8 2.7-1.9 3.6-3.4h7.1c-1.3 3.3-3.4 5.9-6.2 7.8-2.8 1.9-6.1 2.8-9.8 2.8-4.8 0-8.8-1.6-12.1-4.7-3.2-3.1-4.9-7-4.9-11.7 0-3.1.7-5.9 2.2-8.4 1.5-2.5 3.5-4.5 6.1-5.9 2.6-1.4 5.5-2.1 8.6-2.1 3.3 0 6.2.7 8.8 2.2 2.6 1.5 4.6 3.5 5.9 6 1.5 2.5 2.2 5.2 2.2 8.3zm-16.8-10.7c-2.5 0-4.7.7-6.4 2-1.8 1.4-2.9 3.2-3.5 5.5h19.9c-.6-2.4-1.8-4.2-3.6-5.6-1.8-1.2-3.9-1.9-6.4-1.9zM556.4 65.9c-3.2 0-6.1-.7-8.8-2.2-2.6-1.4-4.7-3.4-6.2-5.9-1.5-2.5-2.2-5.3-2.2-8.4s.7-5.9 2.2-8.4c1.5-2.5 3.6-4.5 6.2-5.9 2.6-1.4 5.6-2.1 8.8-2.1 4.1 0 7.6 1.1 10.5 3.3 3 2.2 4.9 5.1 5.8 8.7H566c-.9-1.8-2.2-3.2-3.9-4.2-1.7-1-3.6-1.5-5.8-1.5-3 0-5.4 1-7.4 2.9-2 2-3 4.4-3 7.3 0 2.9 1 5.3 3 7.3s4.4 3 7.4 3c2.2 0 4.1-.5 5.8-1.6 1.7-1.1 3-2.5 3.9-4.4h6.8c-.9 3.7-2.9 6.6-5.9 8.8-2.9 2.2-6.5 3.3-10.5 3.3zM595.1 33.1c3.8 0 6.9 1.2 9.1 3.6 2.2 2.4 3.4 5.6 3.4 9.6v18.8h-6.8V47.6c0-2.8-.6-5-1.9-6.5-1.3-1.5-3.2-2.2-5.7-2.2-2.6 0-4.7.9-6.3 2.7s-2.5 4-2.5 6.8v16.8h-6.8V22.6h6.8v14.8c1.3-1.4 2.9-2.4 4.7-3.2s3.8-1.1 6-1.1z"}),r.a.createElement("g",null,r.a.createElement("path",{className:"prefix__st1",d:"M428.4 204.1h-23.9l-10.7-67.3-32.4 67.1h-5.8l-32.4-67-10.7 67.2h-23.9l17-103.1h23.5l29.4 63.2L388 101h23.6l16.8 103.1zM506 124.5h17V204h-17.8l-2-7.1c-7.6 6.3-16.7 9.5-27.1 9.5-8.3 0-15.8-1.8-22.5-5.5-6.7-3.6-12-8.7-15.7-15.1-3.8-6.4-5.7-13.6-5.7-21.5s1.9-15 5.7-21.4c3.8-6.4 9-11.4 15.7-15 6.7-3.6 14.2-5.4 22.5-5.4 10.6 0 19.8 3.2 27.5 9.7l2.4-7.7zm-44.4 55.3c4.3 4.1 9.8 6.2 16.3 6.2 6.6 0 12-2.1 16.3-6.2 4.3-4.1 6.5-9.3 6.5-15.6 0-6.3-2.2-11.5-6.5-15.6s-9.8-6.2-16.3-6.2c-6.6 0-12 2.1-16.3 6.2-4.3 4.1-6.5 9.3-6.5 15.6 0 6.3 2.2 11.5 6.5 15.6zM586 122.8c9.5 0 17 3 22.6 9 5.6 6 8.4 14.1 8.4 24.2v48.2h-22.6v-44.7c0-11.9-4.9-17.8-14.6-17.8-5.8 0-10.4 1.9-13.7 5.6-3.4 3.7-5 8.8-5 15.2v41.8h-22.6v-79.5H554l4.4 9.8c3.2-3.6 7.3-6.5 12.1-8.6 4.7-2.2 9.9-3.2 15.5-3.2zM696.9 149.8c4.8 2.3 8.5 5.7 11.1 10 2.6 4.3 3.9 9.2 3.9 14.6 0 8.2-3.3 15.3-10 21.1-6.7 5.8-14.7 8.7-24.2 8.7h-46.1V101h44.9c9.3 0 17.1 2.5 23.3 7.6 6.2 5.1 9.3 11.4 9.3 18.9 0 4.4-1.1 8.6-3.3 12.5-2 4-5 7.3-8.9 9.8zM683.1 139c2.2-2 3.3-4.7 3.3-7.9 0-3.3-1.1-5.9-3.3-7.9-2.2-2-5.1-3-8.8-3h-19.5V142h19.5c3.7 0 6.6-1 8.8-3zm-7.5 44.7c3.8 0 6.9-1.1 9.3-3.2 2.3-2.2 3.5-4.9 3.5-8.3 0-3.4-1.2-6.1-3.5-8.3-2.3-2.2-5.4-3.2-9.3-3.2h-20.8v23.1h20.8zM723.3 204.1V95.9h22.6v108.2h-22.6zM801.1 206.4c-8.5 0-16.2-1.8-23.2-5.5-6.9-3.6-12.3-8.7-16.2-15.1-3.9-6.4-5.9-13.6-5.9-21.4 0-8 2-15.1 5.9-21.5 3.9-6.4 9.3-11.4 16.2-15 6.9-3.6 14.6-5.4 23.2-5.4 8.5 0 16.2 1.8 23.1 5.4 6.9 3.6 12.3 8.6 16.3 15.1 3.9 6.4 5.9 13.6 5.9 21.5s-2 15-5.9 21.4c-3.9 6.4-9.4 11.5-16.3 15.1-7 3.6-14.6 5.4-23.1 5.4zM785 180.1c4.2 4.1 9.5 6.1 16 6.1s11.9-2 16-6.1c4.2-4 6.3-9.3 6.3-15.7 0-6.4-2.1-11.7-6.3-15.7-4.2-4-9.5-6.1-16-6.1s-11.9 2-16 6.1c-4.2 4.1-6.3 9.3-6.3 15.7.1 6.4 2.1 11.6 6.3 15.7zM895.2 206.4c-6.2 0-12.1-1.1-17.6-3.3-5.5-2.2-10.2-5.1-14.2-8.9-3.9-3.7-7-8.2-9.3-13.4-2.3-5.2-3.4-10.8-3.4-16.6 0-5.8 1.1-11.4 3.4-16.5 2.3-5.2 5.4-9.6 9.3-13.3 3.9-3.7 8.7-6.6 14.2-8.7 5.5-2.1 11.4-3.2 17.7-3.2 10.8 0 20.1 3 27.8 9 7.7 6 12.7 13.9 14.7 23.7h-22.5c-1.8-3.9-4.5-7-8.1-9.2-3.6-2.2-7.6-3.3-12.1-3.3-6.1 0-11.2 2.1-15.3 6.2-4.1 4.1-6.2 9.3-6.2 15.4s2.1 11.3 6.2 15.6 9.2 6.4 15.3 6.4c4.6 0 8.6-1.2 12.1-3.5s6.2-5.6 8.1-9.9h22.8c-2 10-6.9 18.1-14.8 24.3-7.8 6.1-17.2 9.2-28.1 9.2zM1025.9 204.1h-27.4l-26.8-38v38h-22.6V95.9h22.6v64l25.1-35.3h26l-28.3 37.9 31.4 41.6z"})))},V=M.a.Header,q=M.a.Content,D=M.a.Footer,N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:void 0,current:a.props.history?a.props.history.location.pathname:"/"},a.handleMenu=function(e){a.setState({current:e.key})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get(window.env.BASE_URL+window.env.PORT+"/api/v1/config").then(function(t){e.setState({loading:!1,data:t.body})}).catch(function(t){console.error(t),e.setState({loading:!1}),E.a.error({message:"Error"})})}},{key:"render",value:function(){return r.a.createElement(M.a,{style:{minHeight:"100vh"}},r.a.createElement(V,{style:{position:"fixed",zIndex:1,width:"100%",background:"#fff"}},r.a.createElement(l.b,{to:"/"},r.a.createElement("div",{className:"logo"},r.a.createElement(k,null))),r.a.createElement(I.b,{theme:"light",mode:"horizontal",selectedKeys:[this.state.current],style:{lineHeight:"64px"}},r.a.createElement(I.b.Item,{key:"/send"},r.a.createElement(l.b,{to:"/send"},"Create contract")),r.a.createElement(I.b.Item,{key:"/get"},r.a.createElement(l.b,{to:"/get"},"View contracts")),r.a.createElement(I.b.Item,{key:"/config"},r.a.createElement(l.b,{to:"/config"},"Config")))),r.a.createElement(q,{style:{padding:"50px",marginTop:64}},r.a.createElement(y.a,null,r.a.createElement(_.a,{xs:{span:24},sm:{span:24},md:{span:15},lg:{span:15},xl:{span:15},xxl:{span:15}},r.a.createElement(A.a,{title:this.props.title},this.props.children)))),r.a.createElement(D,{style:{textAlign:"center"}},"For demo use only"))}}]),t}(r.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(N,{title:"Contract",history:this.props.history},r.a.createElement(x,null))}}]),t}(r.a.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(N,{title:"Send",history:this.props.history},r.a.createElement(x,{send:!0}))}}]),t}(r.a.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement(y.a,{type:"flex",justify:"space-around",align:"middle"},r.a.createElement(_.a,null,r.a.createElement("h1",null,"Select your action"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(v.a,null,r.a.createElement(l.b,{to:"/send"},"Send")),r.a.createElement(v.a,null,r.a.createElement(l.b,{to:"/get"},"Get"))))))}}]),t}(r.a.Component),L=(a(360),a(361),a(369)),B=a(371),T=a(71),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:void 0},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get(window.env.BASE_URL+window.env.PORT+"/api/v1/config").then(function(t){e.setState({loading:!1,data:t.body})}).catch(function(t){console.error(t),e.setState({loading:!1}),E.a.error({message:"Error"})})}},{key:"render",value:function(){return r.a.createElement(N,{title:"Config",history:this.props.history},this.state.loading?r.a.createElement(L.a,null):this.state.data?r.a.createElement("div",null,r.a.createElement("h2",null,"Organization: ",window.env.ORG_NAME),r.a.createElement("h3",null,"MSP ID : ",this.state.data.organization),r.a.createElement("h3",null,"Channels"),r.a.createElement(B.a,{footer:null,bordered:!0,dataSource:this.state.data.channels,renderItem:function(e){return r.a.createElement(B.a.Item,null,e)}}),r.a.createElement("h3",null,"Orderers"),r.a.createElement(B.a,{footer:null,bordered:!0,dataSource:this.state.data.orderers,renderItem:function(e){return r.a.createElement(B.a.Item,null,e)}}),r.a.createElement("h3",null,"Peers"),r.a.createElement(B.a,{footer:null,bordered:!0,dataSource:this.state.data.peers,renderItem:function(e){return r.a.createElement(B.a.Item,null,e)}}),r.a.createElement("h3",null,"Users"),r.a.createElement(B.a,{footer:null,bordered:!0,dataSource:this.state.data.users,renderItem:function(e){return r.a.createElement(B.a.Item,null,e)}})):r.a.createElement(T.a,{image:T.a.PRESENTED_IMAGE_SIMPLE}))}}]),t}(r.a.Component);var F=function(){return r.a.createElement(l.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/send",component:R}),r.a.createElement(o.a,{path:"/get",component:P}),r.a.createElement(o.a,{path:"/config",component:U}),r.a.createElement(o.a,{path:"*",component:H})))};s.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.e9100866.chunk.js.map